---
import type { Product } from '../../types/product';

interface Props {
  product: Product;
}

const { product } = Astro.props;
const { name, price, image, shortDescription, category } = product;
---

<div class:list={["product-card group relative flex flex-col bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 ease-in-out hover:-translate-y-1.5 hover:shadow-xl", `cat-${category}`]}>
  <div class="relative overflow-hidden">
    <img src={image} alt={name} class="w-full h-56 object-cover transition-transform duration-500 group-hover:scale-110" />
    <span class="absolute top-3 right-3 bg-brand-primary text-white text-xs font-semibold px-3 py-1 rounded-full">{category}</span>
  </div>
  <div class="p-5 flex flex-col flex-grow">
    <h3 class="text-xl font-semibold text-gray-800 mb-2">{name}</h3>
    <p class="text-gray-600 text-sm mb-4 flex-grow">{shortDescription}</p>
    <div class="flex justify-between items-center mt-auto">
      <span class="text-2xl font-bold text-brand-secondary">S/ {price.toFixed(2)}</span>
      <button 
        class="open-modal-button bg-brand-secondary hover:bg-brand-secondary-dark text-white font-bold py-2 px-5 rounded-md transition-colors duration-300"
        data-product-id={product.id}
      >
        Ver m√°s
      </button>
    </div>
  </div>
</div>

<style>
  .bg-brand-primary {
    background-color: #A0522D; /* Sienna */
  }
  .text-brand-secondary {
    color: #D2691E; /* Chocolate */
  }
  .bg-brand-secondary {
    background-color: #D2691E; /* Chocolate */
  }
  .bg-brand-secondary-dark:hover {
    background-color: #A0522D; /* Sienna */
  }
</style>
