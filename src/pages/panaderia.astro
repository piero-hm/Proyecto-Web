---
import type { Product } from '../types/product';
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import ProductGrid from '../components/panaderia/ProductGrid.astro';
import ProductModal from '../components/panaderia/ProductModal.astro';

// --- DATOS DE LA PÁGINA ---

// 1. Navegación
const navLinks = [
  { text: 'Inicio', href: '/' },
  { text: 'Panadería', href: '/panaderia', active: true },
  { text: 'Microfinanciera', href: '/microfinanzas' },
  { text: 'Consultora TI', href: '/consultora' },
];

// 2. Lista de Productos (Más completa y detallada)
const products: Product[] = [
  {
    id: 'prod-01',
    name: 'Baguette Rústica',
    price: 5.50,
    category: 'Pan',
    image: '/img/pan1.jpg', // Re-usando imagen
    shortDescription: 'Corteza crujiente, miga aireada. Fermentación lenta.',
    fullDescription: 'Nuestra baguette rústica es el resultado de 48 horas de fermentación lenta, utilizando solo masa madre natural. Esto le confiere una corteza excepcionalmente crujiente y una miga suave y llena de sabor. Perfecta para acompañar cualquier comida o para un sándwich gourmet.',
    ingredients: ['Harina de trigo', 'Masa madre', 'Agua', 'Sal de maras']
  },
  {
    id: 'prod-02',
    name: 'Torta Selva Negra',
    price: 55.00,
    category: 'Torta',
    image: '/img/torta1.jpg', // Re-usando imagen
    shortDescription: 'Capas de chocolate, crema y cerezas.',
    fullDescription: 'Un clásico reinventado. Bizcocho de chocolate húmedo embebido en licor de cereza, capas de crema chantilly fresca y cerezas ácidas. Cubierta con virutas de chocolate belga y más cerezas. Un postre indulgente y equilibrado.',
    ingredients: ['Chocolate 70%', 'Crema de leche', 'Cerezas', 'Licor de cereza', 'Harina', 'Huevos']
  },
  {
    id: 'prod-03',
    name: 'Cheesecake de Maracuyá',
    price: 15.00,
    category: 'Postre',
    image: '/img/postre1.jpg', // Re-usando imagen
    shortDescription: 'Cremoso, con el toque ácido del maracuyá.',
    fullDescription: 'Sobre una base de galleta crocante, descansa un relleno cremoso de queso y un coulis de maracuyá 100% natural. El equilibrio perfecto entre dulce y ácido que refrescará tu paladar. Servido en porción individual.',
    ingredients: ['Queso crema', 'Maracuyá (fruta)', 'Galletas', 'Mantequilla', 'Crema de leche']
  },
  {
    id: 'prod-04',
    name: 'Croissant de Almendras',
    price: 7.00,
    category: 'Postre',
    image: '/img/project-panaderia.jpg', // Placeholder
    shortDescription: 'Hojaldre relleno de crema de almendras.',
    fullDescription: 'Nuestro croissant artesanal, hecho con mantequilla pura, se rellena con una generosa cantidad de frangipane (crema de almendras) y se cubre con almendras laminadas antes de hornear. Doblemente delicioso.',
    ingredients: ['Harina de trigo', 'Mantequilla', 'Almendras', 'Azúcar', 'Huevos']
  },
  {
    id: 'prod-05',
    name: 'Pan de Centeno y Nueces',
    price: 12.00,
    category: 'Pan',
    image: '/img/panaderia-banner-medium.jpg', // Placeholder
    shortDescription: 'Denso, nutritivo y lleno de sabor.',
    fullDescription: 'Un pan robusto y saludable, elaborado con una mezcla de harina de centeno y trigo integral. Las nueces tostadas añaden un sabor y una textura excepcionales. Ideal para tostadas con palta o quesos fuertes.',
    ingredients: ['Harina de centeno', 'Harina integral', 'Nueces', 'Masa madre', 'Sal']
  },
  {
    id: 'prod-06',
    name: 'Torta de Zanahoria',
    price: 48.00,
    category: 'Torta',
    image: '/img/panaderia-banner-small.jpg', // Placeholder
    shortDescription: 'Húmeda, especiada y con frosting de queso crema.',
    fullDescription: 'Bizcocho increíblemente húmedo gracias a la zanahoria fresca rallada, con un toque de canela y nuez moscada. El frosting de queso crema, suave y no demasiado dulce, es el complemento perfecto.',
    ingredients: ['Zanahoria', 'Nueces', 'Canela', 'Queso crema', 'Harina', 'Azúcar moreno']
  },
];
---

<BaseLayout
  title="Delicia | Panadería & Pastelería Artesanal"
  description="Explora nuestro catálogo de panes, tortas y postres hechos con ingredientes de la más alta calidad."
>
  <Navbar brand="Portafolio Digital" links={navLinks} />

  <main>
    <!-- Encabezado de la Página -->
    <header class="bg-brand-beige py-20 text-center">
      <div class="container mx-auto px-4">
        <h1 class="text-5xl font-extrabold text-brand-sienna tracking-tight">Nuestra Selección Artesanal</h1>
        <p class="mt-4 text-lg text-gray-700 max-w-2xl mx-auto">Cada producto es una obra de arte, horneada diariamente con pasión y los mejores ingredientes.</p>
      </div>
    </header>

    <!-- Sección Principal de Productos -->
    <section class="py-20 bg-gray-50">
      <div class="container mx-auto px-4">
        <ProductGrid products={products} />
      </div>
    </section>

    <!-- Sección de Ubicación -->
    <section id="ubicacion" class="py-20 bg-white">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-4xl font-bold text-brand-sienna mb-8">Visita Nuestro Local</h2>
        <div class="relative rounded-xl overflow-hidden shadow-2xl max-w-4xl mx-auto group">
          <img src="/img/panaderia-map.jpg" alt="Ubicación de Panadería Delicia" class="w-full h-96 object-cover">
          <a href="https://www.google.com/maps/search/?api=1&query=Panaderia+Delicia" target="_blank" rel="noopener noreferrer" class="absolute inset-0 flex items-center justify-center bg-black/60 text-white text-2xl font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            Abrir en Google Maps
          </a>
        </div>
        <p class="text-center text-gray-700 mt-6 text-lg">Av. El Sol 123, Miraflores, Lima - Perú</p>
      </div>
    </section>
  </main>

  <Footer copyrightText="© 2025 Delicia Panadería & Pastelería" bgColor="bg-brand-sienna" />

  <!-- El Modal se renderiza aquí, fuera del main para apilamiento correcto -->
  <ProductModal products={products} />

</BaseLayout>

<style is:global>
  /* Paleta de Colores Elegante para la Panadería */
  .bg-brand-beige {
    background-color: #F5F5DC; /* Beige */
  }
  .bg-brand-sienna {
    background-color: #A0522D; /* Sienna */
  }
  .text-brand-sienna {
    color: #A0522D; /* Sienna */
  }
</style>
